<!DOCTYPE html>
<html lang="it" data-bs-theme="light">
	<head>
		<title data-translate-key="unlock-title">WizardGuard | Sblocca</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="icon" href="./img/favicon.svg" type="image/svg+xml">
		
		<!-- Stylesheets -->
		<script src="./js/bootstrap-style.js"></script>
		<script src="./js/theme.js"></script>
		<link rel="stylesheet" href="./css/common.css">
	</head>
	<body class="user-select-none">
	
		<div id="loading" class="vh-100 d-flex justify-content-center align-items-center">
			<img draggable="false" src = "./img/loader.svg" width="120" />
		</div>
	
		<div id="mainContent" class="d-none">
			<div class="row vh-100 align-items-center mx-0 px-0">
				<div class="col-12">
					<div class="text-center mt-4">
						<p class="h4 mb-4"><svg class="bi bi-large"><use xlink:href="./img/bootstrap-icons.svg#shield-lock"/></svg><span class="ms-2" data-translate-key="unlock-title-locked">La cassaforte è bloccata<span></p>
					</div>
					<div class="mb-4">
						<div class="row justify-content-center">
							<div class="col-10 col-sm-9 col-md-6 col-lg-4">
								<div class="input-group">
									<div class="form-floating">
										<input type="password" class="form-control rounded-0 rounded-start border-end-0 shadow-none" id="password" name="password" placeholder="**********">
										<label for="password"><svg class="bi"><use xlink:href="./img/bootstrap-icons.svg#key"/></svg><span class="ms-2" data-translate-key="signin-input-password">La tua password</span></label>
										
									</div>
									<span class="input-group-text rounded-0 rounded-end bg-eye border-0 border-top border-bottom border-end" role="button" id="passwordEye"><svg id="eyePassword" class="bi mb-0"><use xlink:href="./img/bootstrap-icons.svg#eye"/></svg></span>
								</div>
								<div class="d-grid my-4">
									<button class="btn btn-primary shadow-none" type="button" id="unlockButton" data-translate-key="unlock-unlock-button">Sblocca</button>
								</div>
								<div class="small text-center">
									<span data-translate-key="signin-lost-password">Password dimenticata?</span> <span data-bs-toggle="modal" data-bs-target="#logoutModal" role="button" class="text-theme fw-bold" data-translate-key="unlock-logout-action">Esci</span>
								</div>
								<hr class="my-4">
								<div class="text-muted text-center small">
									<span data-translate-key="signin-language">Lingua:</span>
									<span class="dropdown">
										<span class="dropdown-toggle ms-1" type="button" data-bs-toggle="dropdown" aria-expanded="false">
											<span class="text-theme fw-bold" id="selectedLanguage">IT</span>
										</span>
										<ul class="dropdown-menu">
											<li><a class="dropdown-item dropdown-language" href="#" id="language-en">English</a></li>
											<li><a class="dropdown-item dropdown-language active" href="#" id="language-it">Italiano</a></li>
										</ul>
									</span>
								</div>
								<div class="text-muted text-center small">
									<span data-translate-key="signin-theme">Tema:</span>
									<span class="dropdown">
										<span class="dropdown-toggle ms-1" type="button" data-bs-toggle="dropdown" aria-expanded="false">
											<span class="text-theme fw-bold" id="selectedTheme" data-translate-key="signin-theme-edit">cambia</span>
										</span>
										<ul class="dropdown-menu">
											<li><a class="dropdown-item dropdown-theme active" href="#" id="theme-light" data-translate-key="signin-theme-light">Chiaro</a></li>
											<li><a class="dropdown-item dropdown-theme" href="#" id="theme-dark" data-translate-key="signin-theme-dark">Scuro</a></li>
										</ul>
									</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Feedback -->
		<div class="toast-container position-fixed top-0 end-0 p-3">
			<div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
				<div class="toast-header">
					<strong class="me-auto" id="toastTitle"></strong>
					<button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
				</div>
				<div class="toast-body" id="toastMessage"></div>
			</div>
		</div>
		
		<!-- Logout modal -->
		<div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
			<div class="modal-dialog modal-dialog-scrollable modal-fullscreen-md-down">
				<div class="modal-content">
					<div class="modal-header">
						<h1 class="modal-title fs-5" id="logoutModalLabel" data-translate-key="unlock-title-logout">Esci dal profilo</h1>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<p data-translate-key="unlock-logout-description-1">Procedendo uscirai dal tuo profilo e tutti i dati locali verranno eliminati. Dovrai effettuare nuovamente l'accesso.</p>
						<p class="fw-bold d-none" id="localLogout" data-translate-key="unlock-logout-description-2">Attenzione: hai effettuato l'accesso in modalità locale, tutti i tuoi dati verranno persi per sempre.</p>
					</div>
					<input type="hidden" id="deleteElementId" value="">
					<div class="modal-footer">
						<button type="button" class="btn btn-outline-primary no-shadow" data-bs-dismiss="modal" data-translate-key="signin-cancel-button">Annulla</button>
						<button type="button" class="btn btn-primary no-shadow" data-bs-dismiss="modal" id="logoutButton" data-translate-key="unlock-confirm-button">Conferma e esci</button>
					</div>
				</div>
			</div>
		</div>

		<!-- Scripts -->
		<script src="cordova.js"></script>
		<script src="./js/jquery.js"></script>
		<script src="./js/bootstrap.js"></script>
		<script src="./js/localization.js"></script>
		<script src="./js/common.js"></script>
		<script src="./js/unlock.js"></script>
		<script src="./js/mobile.js"></script>
	</body>
</html>
